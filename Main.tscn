[gd_scene load_steps=24 format=4 uid="uid://c6kt75durlr23"]

[ext_resource type="Texture2D" uid="uid://dcn3hd50jypr0" path="res://BaseTileSet.png" id="1_uu6xs"]
[ext_resource type="Script" uid="uid://c7nwkwi7i72f7" path="res://spear.gd" id="2_cm0pq"]
[ext_resource type="Script" uid="uid://g83xcn768ybc" path="res://map_controller.gd" id="2_fos0i"]
[ext_resource type="Texture2D" uid="uid://cbq6qsjvf7wcr" path="res://RoughSpear.png" id="2_r0du0"]
[ext_resource type="Script" uid="uid://b5rdjagi8vq3o" path="res://launch_power_bar.gd" id="4_cm0pq"]
[ext_resource type="Shader" uid="uid://dlhgmhis7wek" path="res://water2.tres" id="4_lgr22"]
[ext_resource type="PackedScene" uid="uid://cvdb0k0qqems" path="res://MapSection1.tscn" id="5_fos0i"]
[ext_resource type="Texture2D" uid="uid://d1o8p02d4qq3v" path="res://WaterTile.png" id="5_trn2v"]

[sub_resource type="Gradient" id="Gradient_fos0i"]

[sub_resource type="GradientTexture1D" id="GradientTexture1D_3dxm6"]
gradient = SubResource("Gradient_fos0i")
width = 75

[sub_resource type="Gradient" id="Gradient_lgr22"]
colors = PackedColorArray(1, 0, 0, 1, 1, 0, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_trn2v"]
gradient = SubResource("Gradient_lgr22")
width = 75

[sub_resource type="ShaderMaterial" id="ShaderMaterial_trn2v"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_3dxm6"]
texture = ExtResource("1_uu6xs")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/material = SubResource("ShaderMaterial_trn2v")
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:0/0 = 0
3:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0

[sub_resource type="TileSet" id="TileSet_fos0i"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_3dxm6")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3dxm6"]
size = Vector2(326, 12)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_03owx"]
shader = ExtResource("4_lgr22")
shader_parameter/Speed = Vector2(0.02, 0.01)
shader_parameter/WaterTexture = ExtResource("5_trn2v")
shader_parameter/Alpha = 0.535

[sub_resource type="Gradient" id="Gradient_ni1lh"]

[sub_resource type="GradientTexture1D" id="GradientTexture1D_wkp8b"]
gradient = SubResource("Gradient_ni1lh")

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_uu6xs"]
absorbent = true

[sub_resource type="Gradient" id="Gradient_3dxm6"]

[sub_resource type="GradientTexture1D" id="GradientTexture1D_lgr22"]
gradient = SubResource("Gradient_3dxm6")

[sub_resource type="CircleShape2D" id="CircleShape2D_3dxm6"]
radius = 6.0

[node name="Node2D" type="Node2D"]

[node name="LaunchStrengthProgressBar" type="TextureProgressBar" parent="."]
offset_left = 215.0
offset_top = -251.0
offset_right = 290.0
offset_bottom = -245.0
value = 90.0
texture_under = SubResource("GradientTexture1D_3dxm6")
texture_progress = SubResource("GradientTexture1D_trn2v")
texture_progress_offset = Vector2(0, 3.76)
script = ExtResource("4_cm0pq")

[node name="MapController" type="Node2D" parent="."]
script = ExtResource("2_fos0i")
map_section_1 = ExtResource("5_fos0i")

[node name="StartingMap" type="TileMapLayer" parent="MapController"]
texture_filter = 1
tile_map_data = PackedByteArray("AAD+//7/AAAAAAAAAAD+////AAAAAAAAAAD+/wAAAAAAAAAAAAD+/wEAAAAAAAAAAAD//wEAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAEAAAAAAAAAAAABAAAAAAAAAAAAAAABAP//AAAAAAAAAAABAP7/AAAAAAAAAAAAAP7/AAAAAAAAAAD///7/AAAAAAAAAAD/////AAAAAAAAAAD//wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAAAAAAAAAD+/wIAAAAAAAAAAAD+/wMAAAAAAAAAAAD+/wQAAAAAAAAAAAD//wQAAAAAAAAAAAAAAAQAAAAAAAAAAAABAAQAAAAAAAAAAAABAAMAAAAAAAAAAAABAAIAAAAAAAAAAAAAAAIAAAAAAAAAAAD//wIAAAAAAAAAAAD//wMAAAAAAAAAAAAAAAMAAAAAAAAAAAD9//7/AAABAAAAAAD9////AAABAAAAAAD9/wAAAAABAAAAAAD9/wEAAAABAAAAAAD9/wIAAAABAAAAAAD9/wMAAAABAAAAAAD9/wQAAAABAAAAAAD+/w4AAAAAAAAAAAD+/w0AAAAAAAAAAAD+/wwAAAAAAAAAAAD+/wsAAAAAAAAAAAD+/woAAAAAAAAAAAD+/wkAAAAAAAAAAAD//wgAAAAAAAAAAAD//wcAAAAAAAAAAAD//wYAAAAAAAAAAAD+/wYAAAAAAAAAAAD+/wUAAAAAAAAAAAD+/wcAAAAAAAAAAAD+/wgAAAAAAAAAAAD//wUAAAAAAAAAAAAAAAUAAAAAAAAAAAABAAUAAAAAAAAAAAABAAYAAAAAAAAAAAABAAcAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAYAAAAAAAAAAAABAAgAAAAAAAAAAAABAAkAAAAAAAAAAAABAAoAAAAAAAAAAAABAAsAAAAAAAAAAAABAAwAAAAAAAAAAAABAA0AAAAAAAAAAAABAA4AAAAAAAAAAAAAAA4AAAAAAAAAAAD//w4AAAAAAAAAAAD//w0AAAAAAAAAAAD//wwAAAAAAAAAAAD//wsAAAAAAAAAAAD//woAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAA0AAAAAAAAAAAD//wkAAAAAAAAAAAD9/wkAAAABAAAAAAD9/woAAAABAAAAAAD9/wsAAAABAAAAAAD9/wwAAAABAAAAAAD9/w0AAAABAAAAAAD9/w4AAAABAAAAAAD9/wUAAAABAAAAAAD9/wYAAAABAAAAAAD9/wcAAAABAAAAAAD9/wgAAAABAAAAAAACAP7/AAAAAAAAAAACAP//AAAAAAAAAAACAAAAAAAAAAAAAAACAAEAAAAAAAAAAAACAAIAAAAAAAAAAAACAAMAAAAAAAAAAAACAAQAAAAAAAAAAAACAAUAAAAAAAAAAAACAAYAAAAAAAAAAAACAAcAAAAAAAAAAAACAAgAAAAAAAAAAAACAAkAAAAAAAAAAAACAAoAAAAAAAAAAAACAAsAAAAAAAAAAAACAAwAAAAAAAAAAAACAA0AAAAAAAAAAAACAA4AAAAAAAAAAAADAP7/AAAAAAAAAAADAP//AAAAAAAAAAADAAAAAAAAAAAAAAADAAEAAAAAAAAAAAADAAIAAAAAAAAAAAADAAMAAAAAAAAAAAADAAQAAAAAAAAAAAADAAUAAAAAAAAAAAADAAYAAAAAAAAAAAADAAcAAAAAAAAAAAADAAgAAAAAAAAAAAADAAkAAAAAAAAAAAADAAoAAAAAAAAAAAADAAsAAAAAAAAAAAADAAwAAAAAAAAAAAADAA0AAAAAAAAAAAADAA4AAAAAAAAAAAAEAP7/AAAAAAAAAAAEAP//AAAAAAAAAAAEAAAAAAAAAAAAAAAEAAEAAAAAAAAAAAAEAAIAAAAAAAAAAAAEAAMAAAAAAAAAAAAEAAQAAAAAAAAAAAAEAAUAAAAAAAAAAAAEAAYAAAAAAAAAAAAEAAcAAAAAAAAAAAAEAAgAAAAAAAAAAAAEAAkAAAAAAAAAAAAEAAoAAAAAAAAAAAAEAAsAAAAAAAAAAAAEAAwAAAAAAAAAAAAEAA0AAAAAAAAAAAAEAA4AAAAAAAAAAAAFAP7/AAAAAAAAAAAFAP//AAAAAAAAAAAFAAAAAAAAAAAAAAAFAAEAAAAAAAAAAAAFAAIAAAAAAAAAAAAFAAMAAAAAAAAAAAAFAAQAAAAAAAAAAAAFAAUAAAAAAAAAAAAFAAYAAAAAAAAAAAAFAAcAAAAAAAAAAAAFAAgAAAAAAAAAAAAFAAkAAAAAAAAAAAAFAAoAAAAAAAAAAAAFAAsAAAAAAAAAAAAFAAwAAAAAAAAAAAAFAA0AAAAAAAAAAAAFAA4AAAAAAAAAAAAGAP7/AAAAAAAAAAAGAP//AAAAAAAAAAAGAAAAAAAAAAAAAAAGAAEAAAAAAAAAAAAGAAIAAAAAAAAAAAAGAAMAAAAAAAAAAAAGAAQAAAAAAAAAAAAGAAUAAAAAAAAAAAAGAAYAAAAAAAAAAAAGAAcAAAAAAAAAAAAGAAgAAAAAAAAAAAAGAAkAAAAAAAAAAAAGAAoAAAAAAAAAAAAGAAsAAAAAAAAAAAAGAAwAAAAAAAAAAAAGAA0AAAAAAAAAAAAGAA4AAAAAAAAAAAAHAP7/AAAAAAAAAAAHAP//AAAAAAAAAAAHAAAAAAAAAAAAAAAHAAEAAAAAAAAAAAAHAAIAAAAAAAAAAAAHAAMAAAAAAAAAAAAHAAQAAAAAAAAAAAAHAAUAAAAAAAAAAAAHAAYAAAAAAAAAAAAHAAcAAAAAAAAAAAAHAAgAAAAAAAAAAAAHAAkAAAAAAAAAAAAHAAoAAAAAAAAAAAAHAAsAAAAAAAAAAAAHAAwAAAAAAAAAAAAHAA0AAAAAAAAAAAAHAA4AAAAAAAAAAAAIAP7/AAABAAAAAAAIAP//AAABAAAAAAAIAAAAAAABAAAAAAAIAAEAAAABAAAAAAAIAAIAAAABAAAAAAAIAAMAAAABAAAAAAAIAAQAAAABAAAAAAAIAAUAAAABAAAAAAAIAAYAAAABAAAAAAAIAAcAAAABAAAAAAAIAAgAAAABAAAAAAAIAAkAAAABAAAAAAAIAAoAAAABAAAAAAAIAAsAAAABAAAAAAAIAAwAAAABAAAAAAAIAA0AAAABAAAAAAAIAA4AAAABAAAAAAAJAPr/AAABAAAAAAAJAPv/AAABAAAAAAAJAPz/AAABAAAAAAAJAP3/AAABAAAAAAAJAP7/AAABAAAAAAAJAP//AAABAAAAAAAJAAAAAAABAAAAAAAJAAEAAAABAAAAAAAJAAIAAAABAAAAAAAJAAMAAAABAAAAAAAJAAQAAAABAAAAAAAJAAUAAAABAAAAAAAJAAYAAAABAAAAAAAJAAcAAAABAAAAAAAJAAgAAAABAAAAAAAJAAkAAAABAAAAAAAJAAoAAAABAAAAAAAJAAsAAAABAAAAAAAJAAwAAAABAAAAAAAJAA0AAAABAAAAAAAJAA4AAAABAAAAAAA=")
tile_set = SubResource("TileSet_fos0i")

[node name="WaterStartArea" type="Area2D" parent="MapController/StartingMap"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="MapController/StartingMap/WaterStartArea"]
position = Vector2(96, -59)
shape = SubResource("RectangleShape2D_3dxm6")

[node name="WaterShader" type="Sprite2D" parent="MapController/StartingMap"]
material = SubResource("ShaderMaterial_03owx")
position = Vector2(96, -65)
scale = Vector2(1.24219, 544)
texture = SubResource("GradientTexture1D_wkp8b")

[node name="Spear" type="RigidBody2D" parent="."]
position = Vector2(307, -256)
physics_material_override = SubResource("PhysicsMaterial_uu6xs")
gravity_scale = 0.1
center_of_mass_mode = 1
center_of_mass = Vector2(0, 20)
linear_damp = 0.4
angular_damp = 3.0
script = ExtResource("2_cm0pq")

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Spear"]
position = Vector2(0, -5)
polygon = PackedVector2Array(-1, -11, 4, -11, 4, 11, 8, 11, -2, 21, -8, 11, -2, 11)

[node name="Camera2D" type="Camera2D" parent="Spear"]

[node name="Sprite2D" type="Sprite2D" parent="Spear"]
texture_filter = 1
texture = ExtResource("2_r0du0")

[node name="Forward" type="Node2D" parent="Spear"]
position = Vector2(-3.66, 24.785)

[node name="Sprite2D" type="Sprite2D" parent="Spear/Forward"]
position = Vector2(-0.340004, -1.785)
scale = Vector2(0.0117188, 3.215)
texture = SubResource("GradientTexture1D_lgr22")

[node name="Left" type="Node2D" parent="Spear"]
position = Vector2(-14.15, 0)

[node name="Right" type="Node2D" parent="Spear"]
position = Vector2(17.225, 0)

[node name="SpearTipArea" type="Area2D" parent="Spear"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Spear/SpearTipArea"]
position = Vector2(-1, 9)
shape = SubResource("CircleShape2D_3dxm6")

[connection signal="area_entered" from="Spear/SpearTipArea" to="Spear" method="_on_spear_tip_area_area_entered"]
